{"ast":null,"code":"var _jsxFileName = \"/Users/yapfengwei/Desktop/MyApplications/sample3_frontend/src/Pages/auth/login.js\";\nimport React, { useContext } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport FormText from '../../Components/FormComponents/FormText';\nimport FormSubmitButton from '../../Components/FormComponents/FormSubmitButton';\nimport { makeStyles, Card, CardContent, Typography } from '@material-ui/core';\nimport UserContext from '../../context/UserContext';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nconst useStyles = makeStyles({\n  root: {\n    minWidth: '300px',\n    width: '60%',\n    margin: 'auto',\n    marginTop: '10%'\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)'\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\n\nconst Login = () => {\n  const history = useHistory();\n  const {\n    userData,\n    setUserData\n  } = useContext(UserContext);\n  const classes = useStyles();\n\n  const handleSubmit = async values => {\n    const loginRes = await axios({\n      method: 'post',\n      url: 'http://localhost:3030/api/auth/login',\n      data: values\n    });\n    setUserData({\n      token: loginRes.data.token,\n      accountType: loginRes.data.user.accountType,\n      username: loginRes.data.user.username,\n      fullName: loginRes.data.user.fullName\n    });\n    localStorage.setItem('auth-token', loginRes.data.token);\n    history.push('/');\n  };\n\n  const initialValues = {\n    username: '',\n    password: ''\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    component: \"h2\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"My catalog\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: initialValues,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, values =>\n  /*#__PURE__*/\n  // handleChange,\n  React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    title: \"Username\",\n    name: \"username\",\n    type: \"text\",\n    component: FormText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    title: \"Password\",\n    name: \"password\",\n    type: \"password\",\n    component: FormText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(FormSubmitButton, {\n    width: 100,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/yapfengwei/Desktop/MyApplications/sample3_frontend/src/Pages/auth/login.js"],"names":["React","useContext","Formik","Form","Field","FormText","FormSubmitButton","makeStyles","Card","CardContent","Typography","UserContext","useHistory","axios","useStyles","root","minWidth","width","margin","marginTop","bullet","display","transform","title","fontSize","pos","marginBottom","Login","history","userData","setUserData","classes","handleSubmit","values","loginRes","method","url","data","token","accountType","user","username","fullName","localStorage","setItem","push","initialValues","password"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport FormText from '../../Components/FormComponents/FormText';\nimport FormSubmitButton from '../../Components/FormComponents/FormSubmitButton';\nimport { makeStyles, Card, CardContent, Typography } from '@material-ui/core';\nimport UserContext from '../../context/UserContext';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: '300px',\n    width: '60%',\n    margin: 'auto',\n    marginTop: '10%',\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nconst Login = () => {\n  const history = useHistory();\n  const { userData, setUserData } = useContext(UserContext);\n  const classes = useStyles();\n\n  const handleSubmit = async (values) => {\n    const loginRes = await axios({\n      method:'post',\n      url: 'http://localhost:3030/api/auth/login',\n      data: values\n    });\n    setUserData({\n      token: loginRes.data.token,\n      accountType: loginRes.data.user.accountType,\n      username: loginRes.data.user.username,\n      fullName: loginRes.data.user.fullName\n    });\n    localStorage.setItem('auth-token', loginRes.data.token);\n    history.push('/');\n  }\n\n  const initialValues = {\n    username: '',\n    password: ''\n  }\n  return (\n    <div className={classes.root}>\n      <Card variant=\"outlined\">\n        <CardContent>\n          <Typography variant=\"h5\" component=\"h2\" gutterBottom>My catalog</Typography>\n          <Typography variant=\"body2\" component=\"p\">Login</Typography>\n          <Formik\n            initialValues={initialValues}\n            onSubmit={handleSubmit}\n          >\n            {(\n              values,\n              // handleChange,\n              ) => (\n                <Form>\n                  <Field\n                    title=\"Username\"\n                    name=\"username\"\n                    type=\"text\"\n                    component={FormText}\n                  />\n                  <Field\n                    title=\"Password\"\n                    name=\"password\"\n                    type=\"password\"\n                    component={FormText}\n                  />\n                  <FormSubmitButton\n                    width={100}\n                  />\n                </Form>\n              )}\n          </Formik>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}