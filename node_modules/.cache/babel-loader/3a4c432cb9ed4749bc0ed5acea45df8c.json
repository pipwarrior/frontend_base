{"ast":null,"code":"var _jsxFileName = \"/Users/yapfengwei/Desktop/MyApplications/sample3_frontend/src/Pages/auth/login.js\";\nimport React, { useEffect, useContext } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport FormText from '../../Components/FormComponents/FormText';\nimport FormSubmitButton from '../../Components/FormComponents/FormSubmitButton';\nimport { makeStyles, Card, CardContent, Typography } from '@material-ui/core';\nimport UserContext from '../../context/UserContext';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nconst useStyles = makeStyles({\n  root: {\n    minWidth: '300px',\n    width: '60%',\n    margin: 'auto',\n    marginTop: '10%'\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)'\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\n\nconst Login = () => {\n  const history = useHistory();\n  const {\n    userData,\n    setUserData\n  } = useContext(UserContext);\n  const classes = useStyles(); // useEffect(() => {\n  //   if(userData){\n  //     history.push('/catalog');\n  //   }\n  // },[])\n\n  const handleSubmit = async values => {\n    await axios({\n      method: 'post',\n      url: 'http://localhost:3030/api/auth/login',\n      data: values\n    }).then(function (loginRes) {\n      console.log(loginRes);\n    }).catch(function (err) {\n      console.log({ ...err\n      });\n    }); // setUserData({\n    //   token: loginRes.data.token,\n    //   accountType: loginRes.data.user.accountType,\n    //   username: loginRes.data.user.username,\n    //   fullName: loginRes.data.user.fullName\n    // });\n    // localStorage.setItem('auth-token', loginRes.data.token);\n    // history.push('/catalog');\n    // const loginRes = await axios({\n    //   method:'post',\n    //   url: 'http://localhost:3030/api/auth/login',\n    //   data: values\n    // });\n    // console.log(loginRes);\n    // setUserData({\n    //   token: loginRes.data.token,\n    //   accountType: loginRes.data.user.accountType,\n    //   username: loginRes.data.user.username,\n    //   fullName: loginRes.data.user.fullName\n    // });\n    // localStorage.setItem('auth-token', loginRes.data.token);\n    // history.push('/catalog');\n  };\n\n  const initialValues = {\n    username: '',\n    password: ''\n  }; // if(userData){\n  //   history.push('/catalog');\n  // }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    component: \"h2\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, \"My catalog\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: initialValues,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, values =>\n  /*#__PURE__*/\n  // handleChange,\n  React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    title: \"Username\",\n    name: \"username\",\n    type: \"text\",\n    component: FormText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    title: \"Password\",\n    name: \"password\",\n    type: \"password\",\n    component: FormText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(FormSubmitButton, {\n    width: 100,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 19\n    }\n  }))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/yapfengwei/Desktop/MyApplications/sample3_frontend/src/Pages/auth/login.js"],"names":["React","useEffect","useContext","Formik","Form","Field","FormText","FormSubmitButton","makeStyles","Card","CardContent","Typography","UserContext","useHistory","axios","useStyles","root","minWidth","width","margin","marginTop","bullet","display","transform","title","fontSize","pos","marginBottom","Login","history","userData","setUserData","classes","handleSubmit","values","method","url","data","then","loginRes","console","log","catch","err","initialValues","username","password"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext } from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport FormText from '../../Components/FormComponents/FormText';\nimport FormSubmitButton from '../../Components/FormComponents/FormSubmitButton';\nimport { makeStyles, Card, CardContent, Typography } from '@material-ui/core';\nimport UserContext from '../../context/UserContext';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: '300px',\n    width: '60%',\n    margin: 'auto',\n    marginTop: '10%',\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nconst Login = () => {\n  const history = useHistory();\n  const { userData, setUserData } = useContext(UserContext);\n  const classes = useStyles();\n  \n  // useEffect(() => {\n  //   if(userData){\n  //     history.push('/catalog');\n  //   }\n  // },[])\n\n  const handleSubmit = async (values) => {\n    await axios({\n      method:'post',\n      url: 'http://localhost:3030/api/auth/login',\n      data: values\n    }).then(function(loginRes){\n      console.log(loginRes);\n    })\n    .catch(function(err){\n      console.log({...err});\n    })\n    \n    // setUserData({\n    //   token: loginRes.data.token,\n    //   accountType: loginRes.data.user.accountType,\n    //   username: loginRes.data.user.username,\n    //   fullName: loginRes.data.user.fullName\n    // });\n    // localStorage.setItem('auth-token', loginRes.data.token);\n    // history.push('/catalog');\n\n    // const loginRes = await axios({\n    //   method:'post',\n    //   url: 'http://localhost:3030/api/auth/login',\n    //   data: values\n    // });\n    // console.log(loginRes);\n    // setUserData({\n    //   token: loginRes.data.token,\n    //   accountType: loginRes.data.user.accountType,\n    //   username: loginRes.data.user.username,\n    //   fullName: loginRes.data.user.fullName\n    // });\n    // localStorage.setItem('auth-token', loginRes.data.token);\n    // history.push('/catalog');\n  }\n\n  const initialValues = {\n    username: '',\n    password: ''\n  }\n\n  // if(userData){\n  //   history.push('/catalog');\n  // }\n\n  return (\n    <div className={classes.root}>\n      <Card variant=\"outlined\">\n        <CardContent>\n          <Typography variant=\"h5\" component=\"h2\" gutterBottom>My catalog</Typography>\n          <Typography variant=\"body2\" component=\"p\">Login</Typography>\n          <Formik\n            initialValues={initialValues}\n            onSubmit={handleSubmit}\n          >\n            {(\n              values,\n              // handleChange,\n              ) => (\n                <Form>\n                  <Field\n                    title=\"Username\"\n                    name=\"username\"\n                    type=\"text\"\n                    component={FormText}\n                  />\n                  <Field\n                    title=\"Password\"\n                    name=\"password\"\n                    type=\"password\"\n                    component={FormText}\n                  />\n                  <FormSubmitButton\n                    width={100}\n                  />\n                </Form>\n              )}\n          </Formik>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}