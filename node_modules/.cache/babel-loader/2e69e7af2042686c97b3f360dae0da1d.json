{"ast":null,"code":"import _slicedToArray from\"/Users/yapfengwei/Desktop/MyApplications/catalogProject_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from'react';import{useHistory}from\"react-router-dom\";import{makeStyles}from'@material-ui/core';import UserContext from'../../context/UserContext';import axios from'axios';import CatalogList from'./CatalogList';import CatalogItemDetail from'./CatalogItemDetail';import Fab from'@material-ui/core/Fab';import AddIcon from'@material-ui/icons/Add';var useStyles=makeStyles(function(theme){return{root:{display:'flex'},leftPanel:{width:'35vw',minWidth:'350px',height:'calc(100vh - 60px)',borderRight:'1px solid #C0C0C0',backgroundColor:'#F5F5F5'},rightPanel:{width:'65vw',height:'calc(100vh - 60px)',backgroundColor:'#F5F5F5'},fab:{position:'absolute',bottom:theme.spacing(2),left:'30%'}};});var CatalogMaximise=function CatalogMaximise(_ref){var showRedirect=_ref.showRedirect;var classes=useStyles();var history=useHistory();var _useContext=useContext(UserContext),userData=_useContext.userData;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),catalogItems=_useState2[0],setCatalogItems=_useState2[1];var _useState3=useState(showRedirect),_useState4=_slicedToArray(_useState3,2),selectedItem=_useState4[0],setSelectedItem=_useState4[1];useEffect(function(){axios({method:'get',url:process.env.REACT_APP_API+'/api/inventory',headers:{'auth-token':localStorage.getItem('auth-token')}}).then(function(inventory){setCatalogItems(inventory.data);}).catch(function(err){console.log(err);});},[]);var _handleSelectitemChange=function handleSelectitemChange(item){setSelectedItem(item);};return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(\"div\",{className:classes.leftPanel},/*#__PURE__*/React.createElement(CatalogList,{catalogItems:catalogItems,handleSelectitemChange:function handleSelectitemChange(item){return _handleSelectitemChange(item);},selectedItem:selectedItem})),/*#__PURE__*/React.createElement(\"div\",{className:classes.rightPanel},/*#__PURE__*/React.createElement(CatalogItemDetail,{selectedItem:selectedItem})),userData.accountType==='Admin'?/*#__PURE__*/React.createElement(Fab,{color:\"primary\",className:classes.fab},/*#__PURE__*/React.createElement(AddIcon,{onClick:function onClick(){history.push({pathname:'/catalog/form',selectedItem:selectedItem,isEdit:false});}})):/*#__PURE__*/React.createElement(React.Fragment,null));};export default CatalogMaximise;","map":{"version":3,"sources":["/Users/yapfengwei/Desktop/MyApplications/catalogProject_frontend/src/Pages/Catalog/CatalogMaximise.js"],"names":["React","useEffect","useState","useContext","useHistory","makeStyles","UserContext","axios","CatalogList","CatalogItemDetail","Fab","AddIcon","useStyles","theme","root","display","leftPanel","width","minWidth","height","borderRight","backgroundColor","rightPanel","fab","position","bottom","spacing","left","CatalogMaximise","showRedirect","classes","history","userData","catalogItems","setCatalogItems","selectedItem","setSelectedItem","method","url","process","env","REACT_APP_API","headers","localStorage","getItem","then","inventory","data","catch","err","console","log","handleSelectitemChange","item","accountType","push","pathname","isEdit"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core'; \nimport UserContext from '../../context/UserContext';\nimport axios from 'axios';\nimport CatalogList from './CatalogList';\nimport CatalogItemDetail from './CatalogItemDetail';\n\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\n\nconst useStyles = makeStyles((theme)=> ({\n  root: {\n    display: 'flex',\n  },\n  leftPanel: {\n    width: '35vw',\n    minWidth: '350px',\n    height: 'calc(100vh - 60px)',\n    borderRight: '1px solid #C0C0C0',\n    backgroundColor: '#F5F5F5',\n  },\n  rightPanel: {\n    width: '65vw',\n    height: 'calc(100vh - 60px)',\n    backgroundColor: '#F5F5F5',\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    left: '30%',\n  },\n}));\n\nconst CatalogMaximise = ({showRedirect}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { userData } = useContext(UserContext);\n  const [catalogItems, setCatalogItems] = useState([]);\n  const [selectedItem, setSelectedItem] = useState(showRedirect);\n\n  useEffect(() => {\n    axios({\n      method:'get',\n      url: process.env.REACT_APP_API+'/api/inventory',\n      headers: {'auth-token': localStorage.getItem('auth-token')}\n    }).then(function(inventory){\n      setCatalogItems(inventory.data);\n    }).catch(function(err){\n      console.log(err);\n    })\n  }, []);\n\n  const handleSelectitemChange = (item) => {\n    setSelectedItem(item);\n  }\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.leftPanel}>\n        <CatalogList\n          catalogItems={catalogItems} \n          handleSelectitemChange={(item) => handleSelectitemChange(item)}\n          selectedItem={selectedItem}\n        />\n      </div>\n      <div className={classes.rightPanel}>\n        <CatalogItemDetail\n          selectedItem={selectedItem}\n        />\n      </div>\n      {\n        userData.accountType === 'Admin' ? (\n          <Fab color=\"primary\" className={classes.fab}>\n            <AddIcon \n              onClick={() => {\n                history.push({\n                  pathname: '/catalog/form',\n                  selectedItem: selectedItem,\n                  isEdit: false\n                });\n              }}\n            />\n          </Fab>\n        ) : (\n          <></>\n        )\n      }\n    </div>\n  )\n}\n\nexport default CatalogMaximise;\n"]},"metadata":{},"sourceType":"module"}