{"ast":null,"code":"var _jsxFileName = \"/Users/yapfengwei/Desktop/MyApplications/sample3_frontend/src/Pages/Catalog/CatalogOptions.js\";\nimport React, { useState, useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport UserContext from '../../context/UserContext';\nimport { makeStyles, Menu, MenuItem } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nconst useStyles = makeStyles(theme => ({\n  linkDecoration: {\n    textDecoration: 'inherit',\n    color: 'inherit'\n  }\n}));\n\nconst CatalogOptions = ({\n  selectedItem\n}) => {\n  const classes = useStyles();\n  const {\n    userData\n  } = useContext(UserContext);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const history = useHistory();\n\n  const handleMoreIconClicked = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleDelete = () => {\n    setAnchorEl(null);\n    axios({\n      method: 'delete',\n      url: process.env.REACT_APP_API + '/api/inventory',\n      data: selectedItem,\n      headers: {\n        'auth-token': localStorage.getItem('auth-token')\n      }\n    }).then(function (deletedInventory) {\n      console.log(deletedInventory);\n\n      if (deletedInventory.data.message === \"Successfully deleted\") {\n        Swal.fire({\n          icon: 'success',\n          title: 'Success!',\n          showConfirmButton: false,\n          timer: 1500\n        }).then(function () {\n          history.go(0);\n        });\n      } else {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error!',\n          text: deletedInventory.data.error,\n          confirmButtonText: 'Ok'\n        });\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  if (userData.accountType !== 'Admin') {\n    return /*#__PURE__*/React.createElement(React.Fragment, null);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"settings\",\n    onClick: handleMoreIconClicked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: \"/catalog/form\",\n      selectedItem: selectedItem,\n      isEdit: true\n    },\n    className: classes.linkDecoration,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"Edit\")), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, \"Delete\")));\n};\n\nexport default CatalogOptions;","map":{"version":3,"sources":["/Users/yapfengwei/Desktop/MyApplications/sample3_frontend/src/Pages/Catalog/CatalogOptions.js"],"names":["React","useState","useContext","Link","useHistory","UserContext","makeStyles","Menu","MenuItem","IconButton","MoreVertIcon","axios","Swal","useStyles","theme","linkDecoration","textDecoration","color","CatalogOptions","selectedItem","classes","userData","anchorEl","setAnchorEl","history","handleMoreIconClicked","event","currentTarget","handleClose","handleDelete","method","url","process","env","REACT_APP_API","data","headers","localStorage","getItem","then","deletedInventory","console","log","message","fire","icon","title","showConfirmButton","timer","go","text","error","confirmButtonText","catch","err","accountType","Boolean","pathname","isEdit"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport UserContext from '../../context/UserContext';\nimport { makeStyles, Menu, MenuItem  } from '@material-ui/core';\nimport IconButton from '@material-ui/core/IconButton';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport axios from 'axios';\nimport Swal from 'sweetalert2'\n\nconst useStyles = makeStyles((theme) => ({\n  linkDecoration: {\n    textDecoration: 'inherit',\n    color: 'inherit',\n  },\n}));\n\nconst CatalogOptions = ({selectedItem}) => {\n  const classes = useStyles();\n  const { userData } = useContext(UserContext);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const history = useHistory();\n\n  const handleMoreIconClicked = (event) => {\n    setAnchorEl(event.currentTarget);\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleDelete = () => {\n    setAnchorEl(null);\n    axios({\n      method:'delete',\n      url: process.env.REACT_APP_API+'/api/inventory',\n      data: selectedItem,\n      headers: {'auth-token': localStorage.getItem('auth-token')}\n    }).then(function(deletedInventory){\n      console.log(deletedInventory);\n      if (deletedInventory.data.message === \"Successfully deleted\") {\n        Swal.fire({\n          icon: 'success',\n          title: 'Success!',\n          showConfirmButton: false,\n          timer: 1500\n        }).then(function(){\n          history.go(0);\n        })\n      } else {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error!',\n          text: deletedInventory.data.error,\n          confirmButtonText: 'Ok'\n        })\n      }\n    }).catch(function(err){\n      console.log(err);\n    })\n  }\n\n  if (userData.accountType !== 'Admin') {\n    return <></>\n  }\n\n  return (\n    <>\n      <IconButton aria-label=\"settings\" onClick={handleMoreIconClicked}>\n        <MoreVertIcon />\n      </IconButton>\n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <Link \n          to={{\n            pathname:\"/catalog/form\",\n            selectedItem: selectedItem,\n            isEdit: true\n          }} \n          className={classes.linkDecoration}\n        >\n          <MenuItem onClick={handleClose}>\n            Edit\n          </MenuItem>\n        </Link>\n        <MenuItem onClick={handleDelete}>Delete</MenuItem>\n      </Menu>\n    </>\n  )\n}\n\nexport default CatalogOptions;\n"]},"metadata":{},"sourceType":"module"}