{"ast":null,"code":"import _slicedToArray from\"/Users/yapfengwei/Desktop/MyApplications/catalogProject_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useContext}from'react';import{useHistory}from\"react-router-dom\";import{makeStyles,Typography,ExpansionPanel,ExpansionPanelSummary,ExpansionPanelDetails,Table,TableBody,TableRow,TableCell,Grid}from'@material-ui/core';import axios from'axios';import PageTitle from'../../Components/Layout/PageTitle';import ExpandMoreIcon from'@material-ui/icons/ExpandMore';import CatalogOptions from'./CatalogOptions';import UserContext from'../../context/UserContext';import Fab from'@material-ui/core/Fab';import AddIcon from'@material-ui/icons/Add';var useStyles=makeStyles(function(theme){return{root:{width:'100%'},heading:{fontSize:theme.typography.pxToRem(15),fontWeight:theme.typography.fontWeightRegular},expansionPanalRoot:{margin:'0px 10px 0px 10px',boxShadow:'0px 0px 3px 0px rgba(0,0,0,0.6)'},fab:{position:'absolute',bottom:theme.spacing(2),right:theme.spacing(2)}};});var CatalogMinimise=function CatalogMinimise(_ref){var showRedirect=_ref.showRedirect;var classes=useStyles();var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),catalogItems=_useState2[0],setCatalogItems=_useState2[1];var _useContext=useContext(UserContext),userData=_useContext.userData;useEffect(function(){axios({method:'get',url:process.env.REACT_APP_API+'/api/inventory',headers:{'auth-token':localStorage.getItem('auth-token')}}).then(function(inventory){setCatalogItems(inventory.data);}).catch(function(err){console.log(err);});},[]);var displayList=catalogItems.map(function(value,key){var title=value.partNumber;if(title.length!==1){title=title.join(', ');}var displayPartNumber=value.partNumber.map(function(value,key){return/*#__PURE__*/React.createElement(Typography,{key:key},value);});return/*#__PURE__*/React.createElement(ExpansionPanel,{className:classes.expansionPanalRoot,key:key},/*#__PURE__*/React.createElement(ExpansionPanelSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel1a-content\",id:\"panel1a-header\"},/*#__PURE__*/React.createElement(Grid,{justify:\"space-between\"// Add it here :)\n,container:true,spacing:1,alignItems:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:10},/*#__PURE__*/React.createElement(Typography,{className:classes.heading},/*#__PURE__*/React.createElement(\"strong\",null,title))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:2},/*#__PURE__*/React.createElement(CatalogOptions,{selectedItem:value})))),/*#__PURE__*/React.createElement(ExpansionPanelDetails,null,/*#__PURE__*/React.createElement(Table,{size:\"small\"},/*#__PURE__*/React.createElement(TableBody,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Category\"),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Typography,null,value.category))),/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Brand\"),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Typography,null,value.brand))),/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Part number\"),/*#__PURE__*/React.createElement(TableCell,null,displayPartNumber)),/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Description\"),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Typography,null,value.description)))))));});return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(PageTitle,{title:\"Catalog\",variant:\"h4\"}),displayList,userData.accountType==='Admin'?/*#__PURE__*/React.createElement(Fab,{color:\"primary\",className:classes.fab},/*#__PURE__*/React.createElement(AddIcon,{onClick:function onClick(){history.push({pathname:'/catalog/form',isEdit:false});}})):/*#__PURE__*/React.createElement(React.Fragment,null));};export default CatalogMinimise;","map":{"version":3,"sources":["/Users/yapfengwei/Desktop/MyApplications/catalogProject_frontend/src/Pages/Catalog/CatalogMinimise.js"],"names":["React","useEffect","useState","useContext","useHistory","makeStyles","Typography","ExpansionPanel","ExpansionPanelSummary","ExpansionPanelDetails","Table","TableBody","TableRow","TableCell","Grid","axios","PageTitle","ExpandMoreIcon","CatalogOptions","UserContext","Fab","AddIcon","useStyles","theme","root","width","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","expansionPanalRoot","margin","boxShadow","fab","position","bottom","spacing","right","CatalogMinimise","showRedirect","classes","history","catalogItems","setCatalogItems","userData","method","url","process","env","REACT_APP_API","headers","localStorage","getItem","then","inventory","data","catch","err","console","log","displayList","map","value","key","title","partNumber","length","join","displayPartNumber","category","brand","description","accountType","push","pathname","isEdit"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles, Typography,\n  ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails,\n  Table, TableBody, TableRow, TableCell, Grid\n} from '@material-ui/core';\nimport axios from 'axios';\nimport PageTitle from '../../Components/Layout/PageTitle';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport CatalogOptions from './CatalogOptions';\nimport UserContext from '../../context/UserContext';\n\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  expansionPanalRoot: {\n    margin: '0px 10px 0px 10px',\n    boxShadow: '0px 0px 3px 0px rgba(0,0,0,0.6)',\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n}));\n\nconst CatalogMinimise = ({showRedirect}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [catalogItems, setCatalogItems] = useState([]);\n  const { userData } = useContext(UserContext);\n\n  useEffect(() => {\n    axios({\n      method:'get',\n      url: process.env.REACT_APP_API+'/api/inventory',\n      headers: {'auth-token': localStorage.getItem('auth-token')}\n    }).then(function(inventory){\n      setCatalogItems(inventory.data);\n    }).catch(function(err){\n      console.log(err);\n    })\n  }, []);\n\n  const displayList = catalogItems.map((value, key) => {\n    let title = value.partNumber;\n    if (title.length !== 1) {\n      title = title.join(', ');\n    }\n    const displayPartNumber = value.partNumber.map((value, key) => {\n      return (\n        <Typography key={key}>{value}</Typography>\n      )\n    })\n    return (\n      <ExpansionPanel className={classes.expansionPanalRoot} key={key}>\n        <ExpansionPanelSummary\n          expandIcon={\n            <ExpandMoreIcon />\n          }\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n        >\n          <Grid\n            justify=\"space-between\" // Add it here :)\n            container \n            spacing={1}\n            alignItems=\"center\"\n          >\n            <Grid item xs={10}>\n              <Typography className={classes.heading}>\n                <strong>{title}</strong>\n              </Typography>\n            </Grid>\n            <Grid item xs={2}>\n              <CatalogOptions selectedItem={value} />\n            </Grid>\n          </Grid>\n          {/* <Typography className={classes.heading}>\n            <strong>{title}</strong>\n          </Typography> */}\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <Table size=\"small\">\n            <TableBody>\n              <TableRow>\n                <TableCell>Category</TableCell>\n                <TableCell>\n                  <Typography>{value.category}</Typography>\n                </TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>Brand</TableCell>\n                <TableCell>\n                  <Typography>{value.brand}</Typography>\n                </TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>Part number</TableCell>\n                <TableCell>\n                  {displayPartNumber}\n                </TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>Description</TableCell>\n                <TableCell>\n                  <Typography>{value.description}</Typography>\n                </TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    )\n  });\n\n  return (\n    <div className={classes.root}>\n      <PageTitle title=\"Catalog\" variant=\"h4\" />\n      {displayList}\n\n      {\n        userData.accountType === 'Admin' ? (\n          <Fab color=\"primary\" className={classes.fab}>\n            <AddIcon \n              onClick={() => {\n                history.push({\n                  pathname: '/catalog/form',\n                  isEdit: false\n                });\n              }}\n            />\n          </Fab>\n        ) : (\n          <></>\n        )\n      }\n    </div>\n  )\n}\n\nexport default CatalogMinimise;\n"]},"metadata":{},"sourceType":"module"}