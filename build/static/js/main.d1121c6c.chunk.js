(this.webpackJsonpsample3_frontend=this.webpackJsonpsample3_frontend||[]).push([[0],{121:function(e,t,a){e.exports=a(151)},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),o=a.n(l),c=a(49),i=a.n(c),m=a(62),u=a(28),s=a(16),d=a(23),p=a.n(d),g=Object(n.createContext)(null),E=a(11),h=a(111),f=function(e){var t=e.component,a=e.isLoginPage,n=e.isPrivate,l=e.isAdminOnly,o=Object(h.a)(e,["component","isLoginPage","isPrivate","isAdminOnly"]),c=localStorage.getItem("auth-token"),i=localStorage.getItem("accountType");return a&&c&&i?r.a.createElement(E.a,{to:"/catalog"}):n&&!c?r.a.createElement(E.a,{to:"/login"}):l&&"Admin"!==i?r.a.createElement(E.a,{to:"/"}):r.a.createElement(E.b,Object.assign({},o,{component:t}))},b=f;f.defaultProps={isPrivate:!1};var v=a(187),x=a(39),y=a(191),k=a(152),O=a(192),S=a(193),w=a(97),j=a.n(w),N=a(98),C=a.n(N),I=Object(v.a)((function(e){return{root:{padding:"10px"},headerStyle:{margin:"0",padding:"0"},listItemStyle:{border:"2px solid #D8D8D8",marginBottom:"10px"}}})),B=function(){var e=I();return r.a.createElement("div",{className:e.root},r.a.createElement(x.a,{variant:"h5"},"Welcome to my catalog"),r.a.createElement(y.a,null,r.a.createElement(k.a,{className:e.listItemStyle},r.a.createElement(O.a,null,r.a.createElement(j.a,null)),r.a.createElement(S.a,null,r.a.createElement(x.a,{variant:"h6"},"Admin rights:"),r.a.createElement(x.a,{variant:"subtitle1"},"Catalog: View, add, edit, delete items. ",r.a.createElement("br",null),"Sales platform: Manage sales platform. (not done)",r.a.createElement("br",null),"Settings: View and edit own profile. (not done) ",r.a.createElement("br",null),"Manage users: Add and remove users. (not done)"))),r.a.createElement(k.a,{className:e.listItemStyle},r.a.createElement(O.a,null,r.a.createElement(C.a,null)),r.a.createElement(S.a,null,r.a.createElement(x.a,{variant:"h6"},"Client rights:"),r.a.createElement(x.a,{variant:"subtitle1"},"Catalog: View items. ",r.a.createElement("br",null),"Settings: View and edit own profile. (not done) ",r.a.createElement("br",null),"Manage users: Add and remove users. (not done)")))))},T=Object(v.a)((function(e){return{titleBox:{width:"calc(100% - 20px)",margin:"0",padding:"10px 10px 10px 10px"}}})),P=function(e){var t=e.title,a=e.variant,n=T();return r.a.createElement("div",{className:n.titleBox},r.a.createElement(x.a,{variant:a},t))},A=a(194),D=a(195),L=Object(v.a)((function(e){return{cardStyle:{margin:"10px",boxShadow:"0px 0px 3px 0px rgba(0,0,0,0.6)",cursor:"pointer"},cardHeaderStyle:{cursor:"pointer"},cardContentRoot:{paddingTop:"0px"}}})),R=function(e){var t=e.value,a=e.id,n=e.title,l=e.subTitle,o=(e.contentTitle,e.content,e.handleSelectitemChange),c=e.selectedItem,i=L(),m={backgroundColor:""};return 1!==n.length&&(n=n.join(", ")),c&&c._id===a&&(m={boxShadow:"0px 0px 6px 0px #3f51b5"}),r.a.createElement(A.a,{className:i.cardStyle,style:m},r.a.createElement(D.a,{onClick:function(){return o(t)},title:r.a.createElement(x.a,{className:i.cardHeaderStyle,variant:"h6",onClick:function(){return o(t)}},n),subheader:l}))},F=Object(v.a)((function(e){return{root:{height:"100%"},listRoot:{overflowY:"scroll",height:"calc(100% - 62px - 50px)"}}})),M=function(e){var t=e.catalogItems,a=e.handleSelectitemChange,n=e.selectedItem,l=F(),o=t.map((function(e,t){return r.a.createElement(R,{key:t,id:e._id,title:e.partNumber,subTitle:e.description,handleSelectitemChange:function(){return a(e)},value:e,selectedItem:n})}));return r.a.createElement("div",{className:l.root},r.a.createElement(P,{title:"Catalog",variant:"h4"}),r.a.createElement("div",{className:l.listRoot},o))},U=a(197),V=a(198),W=a(109),_=a(196),z=a(153),G=a(99),H=a.n(G),Y=a(25),J=a.n(Y),K=Object(v.a)((function(e){return{linkDecoration:{textDecoration:"inherit",color:"inherit"}}})),$=function(e){var t=e.selectedItem,a=K(),l=Object(n.useContext)(g).userData,o=Object(n.useState)(null),c=Object(u.a)(o,2),i=c[0],m=c[1],d=Object(E.g)(),h=function(){m(null)};return"Admin"!==l.accountType?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{"aria-label":"settings",onClick:function(e){m(e.currentTarget)}},r.a.createElement(H.a,null)),r.a.createElement(W.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:h},r.a.createElement(s.b,{to:{pathname:"/catalog/form",selectedItem:t,isEdit:!0},className:a.linkDecoration},r.a.createElement(_.a,{onClick:h},"Edit")),r.a.createElement(_.a,{onClick:function(){m(null),p()({method:"delete",url:"http://52.187.52.67/api/inventory",data:t,headers:{"auth-token":localStorage.getItem("auth-token")}}).then((function(e){console.log(e),"Successfully deleted"===e.data.message?J.a.fire({icon:"success",title:"Success!",showConfirmButton:!1,timer:1500}).then((function(){d.go(0)})):J.a.fire({icon:"error",title:"Error!",text:e.data.error,confirmButtonText:"Ok"})})).catch((function(e){console.log(e)}))}},"Delete")))},q=Object(v.a)((function(e){return{cardRoot:{margin:"10px",maxHeight:"737px",boxShadow:"0px 0px 3px 0px rgba(0,0,0,0.6)"},cardContentRoot:{overflowY:"scroll",maxHeight:"662px",paddingTop:"0"}}})),Q=function(e){var t=e.display,a=e.selectedItem,n=q();if(!a||t)return r.a.createElement("div",null);var l=a.partNumber;return 1!==l.length&&(l=l.join(", ")),r.a.createElement("div",{className:n.root},r.a.createElement(A.a,{className:n.cardRoot},r.a.createElement(D.a,{title:l,subheader:"Price: $10",action:r.a.createElement($,{selectedItem:a})}),r.a.createElement(U.a,{className:n.cardContentRoot},r.a.createElement(V.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-start"},r.a.createElement(V.a,{item:!0,xs:12,sm:2,align:"left"},r.a.createElement(x.a,{variant:"body2",display:"block",gutterBottom:!0},"Description:")),r.a.createElement(V.a,{item:!0,xs:12,sm:10,align:"left"},r.a.createElement(x.a,{variant:"body2",display:"block",gutterBottom:!0},a.description)),r.a.createElement(V.a,{item:!0,xs:12,sm:2,align:"left"},r.a.createElement(x.a,{variant:"body2",display:"block",gutterBottom:!0},"Product category:")),r.a.createElement(V.a,{item:!0,xs:12,sm:10,align:"left"},r.a.createElement(x.a,{variant:"body2",display:"block",gutterBottom:!0},a.category)),r.a.createElement(V.a,{item:!0,xs:12,sm:2,align:"left"},r.a.createElement(x.a,{variant:"body2",display:"block",gutterBottom:!0},"Product brand:")),r.a.createElement(V.a,{item:!0,xs:12,sm:10,align:"left"},r.a.createElement(x.a,{variant:"body2",display:"block",gutterBottom:!0},a.brand))),r.a.createElement(V.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center"},r.a.createElement(V.a,{item:!0,xs:12,sm:6,align:"left"},r.a.createElement(x.a,{variant:"overline",display:"block",gutterBottom:!0},"Created on: ",a.createdOn)),r.a.createElement(V.a,{item:!0,xs:12,sm:6,align:"right"},r.a.createElement(x.a,{variant:"overline",display:"block",gutterBottom:!0},"Updated on: ",a.updatedOn))))))},X=a(199),Z=a(71),ee=a.n(Z),te=Object(v.a)((function(e){return{root:{display:"flex"},leftPanel:{width:"35vw",minWidth:"350px",height:"calc(100vh - 60px)",borderRight:"1px solid #C0C0C0",backgroundColor:"#F5F5F5"},rightPanel:{width:"65vw",height:"calc(100vh - 60px)",backgroundColor:"#F5F5F5"},fab:{position:"absolute",bottom:e.spacing(2),left:"30%"}}})),ae=function(e){var t=e.showRedirect,a=te(),l=Object(E.g)(),o=Object(n.useContext)(g).userData,c=Object(n.useState)([]),i=Object(u.a)(c,2),m=i[0],s=i[1],d=Object(n.useState)(t),h=Object(u.a)(d,2),f=h[0],b=h[1];Object(n.useEffect)((function(){p()({method:"get",url:"http://52.187.52.67/api/inventory",headers:{"auth-token":localStorage.getItem("auth-token")}}).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[]);return r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:a.leftPanel},r.a.createElement(M,{catalogItems:m,handleSelectitemChange:function(e){return function(e){b(e)}(e)},selectedItem:f})),r.a.createElement("div",{className:a.rightPanel},r.a.createElement(Q,{selectedItem:f})),"Admin"===o.accountType?r.a.createElement(X.a,{color:"primary",className:a.fab},r.a.createElement(ee.a,{onClick:function(){l.push({pathname:"/catalog/form",selectedItem:f,isEdit:!1})}})):r.a.createElement(r.a.Fragment,null))},ne=a(214),re=a(200),le=a(201),oe=a(202),ce=a(203),ie=a(204),me=a(205),ue=a(100),se=a.n(ue),de=Object(v.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},expansionPanalRoot:{margin:"0px 10px 0px 10px",boxShadow:"0px 0px 3px 0px rgba(0,0,0,0.6)"},fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}})),pe=function(e){e.showRedirect;var t=de(),a=Object(E.g)(),l=Object(n.useState)([]),o=Object(u.a)(l,2),c=o[0],i=o[1],m=Object(n.useContext)(g).userData;Object(n.useEffect)((function(){p()({method:"get",url:"http://52.187.52.67/api/inventory",headers:{"auth-token":localStorage.getItem("auth-token")}}).then((function(e){i(e.data)})).catch((function(e){console.log(e)}))}),[]);var s=c.map((function(e,a){var n=e.partNumber;1!==n.length&&(n=n.join(", "));var l=e.partNumber.map((function(e,t){return r.a.createElement(x.a,{key:t},e)}));return r.a.createElement(ne.a,{className:t.expansionPanalRoot,key:a},r.a.createElement(re.a,{expandIcon:r.a.createElement(se.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(V.a,{justify:"space-between",container:!0,spacing:1,alignItems:"center"},r.a.createElement(V.a,{item:!0,xs:10},r.a.createElement(x.a,{className:t.heading},r.a.createElement("strong",null,n))),r.a.createElement(V.a,{item:!0,xs:2},r.a.createElement($,{selectedItem:e})))),r.a.createElement(le.a,null,r.a.createElement(oe.a,{size:"small"},r.a.createElement(ce.a,null,r.a.createElement(ie.a,null,r.a.createElement(me.a,null,"Category"),r.a.createElement(me.a,null,r.a.createElement(x.a,null,e.category))),r.a.createElement(ie.a,null,r.a.createElement(me.a,null,"Brand"),r.a.createElement(me.a,null,r.a.createElement(x.a,null,e.brand))),r.a.createElement(ie.a,null,r.a.createElement(me.a,null,"Part number"),r.a.createElement(me.a,null,l)),r.a.createElement(ie.a,null,r.a.createElement(me.a,null,"Description"),r.a.createElement(me.a,null,r.a.createElement(x.a,null,e.description)))))))}));return r.a.createElement("div",{className:t.root},r.a.createElement(P,{title:"Catalog",variant:"h4"}),s,"Admin"===m.accountType?r.a.createElement(X.a,{color:"primary",className:t.fab},r.a.createElement(ee.a,{onClick:function(){a.push({pathname:"/catalog/form",isEdit:!1})}})):r.a.createElement(r.a.Fragment,null))},ge=function(e){var t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}},a=e.location.selectedItem;return t.any()?r.a.createElement(pe,{showRedirect:a}):r.a.createElement(ae,{showRedirect:a})},Ee=a(207),he=a(20),fe=a(206),be=a(211),ve=Object(v.a)((function(e){return{formControl:{width:"100%"}}})),xe=function(e){var t=ve();return r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(fe.a,{className:t.formControl},r.a.createElement(x.a,{variant:"subtitle2",display:"block"},e.title),r.a.createElement(be.a,{name:e.field.name,type:e.type,disabled:e.disabled,defaultValue:e.field.value,onChange:e.form.handleChange,variant:"standard",size:"medium"})))},ye=a(110),ke=a(215),Oe=Object(v.a)((function(e){return{gridRoot:{flexGrow:1},formControl:{width:"100%"},inlineStyle:{display:"inline-block",width:"100%"},addButtonStyle:{},textBoxStyle:{width:"100%"},chipStyle:{margin:"5px 0px 0px 5px",width:"24%"}}})),Se=function(e){var t=e.field.name,a=e.form.setFieldValue,l=Oe(),o=Object(n.useState)(e.field.value),c=Object(u.a)(o,2),i=c[0],m=c[1],s=Object(n.useRef)(null),d=i.map((function(){return Object(n.createRef)()}));Object(n.useEffect)((function(){a(t,i)}),[i,t,a]);var p=function(){var e=s.current.children[0].children[0].value;""!==e.trim()&&(m((function(t){return[].concat(Object(ye.a)(t),[e])})),s.current.children[0].children[0].value="")},g=i.map((function(e,t){return r.a.createElement(ke.a,{key:t,label:e,onDelete:function(){var e=d[t].current.children[0].textContent;m((function(t){return t.filter((function(t){return t!==e}))}))},color:"primary",variant:"outlined",className:l.chipStyle,ref:d[t]})}));return r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(fe.a,{className:l.formControl},r.a.createElement(x.a,{variant:"subtitle2",display:"block"},e.title),r.a.createElement(V.a,{container:!0,spacing:1,style:{width:"100%"}},r.a.createElement(V.a,{item:!0,xs:11},r.a.createElement(be.a,{name:t,type:"text",disabled:e.disabled,variant:"standard",size:"medium",ref:s,className:l.textBoxStyle,onBlur:p})),r.a.createElement(V.a,{item:!0,xs:1,style:{display:"flex"}},r.a.createElement(Ee.a,{variant:"contained",color:"primary",onClick:p},"Add"))),r.a.createElement("div",null,g)))},we=function(e){e.width;return r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(fe.a,null,r.a.createElement(Ee.a,{variant:"contained",color:"primary",type:"submit",style:{width:"100"}},"Submit")))},je=we;we.defaultProps={width:""};var Ne=Object(v.a)((function(e){return{root:{backgroundColor:"#F5F5F5"},backButton:{margin:"10px 0px 0px 10px"},cardRoot:{margin:"10px",boxShadow:"0px 0px 3px 0px rgba(0,0,0,0.6)"}}})),Ce=function(e){var t=e.location.selectedItem,a=e.location.isEdit,n=Object(E.g)(),l=Ne(),o="Add new item to catalog";a&&(o="Edit catalog item");var c={partNumber:a&&t?t.partNumber:[],description:a&&t?t.description:"",brand:a&&t?t.brand:"",category:a&&t?t.category:""};return r.a.createElement("div",{className:l.root},r.a.createElement(Ee.a,{className:l.backButton,variant:"contained",color:"primary",onClick:function(){n.push({pathname:"/catalog",selectedItem:t})}},"Back"),r.a.createElement("div",null,r.a.createElement(A.a,{className:l.cardRoot},r.a.createElement(D.a,{title:o}),r.a.createElement(U.a,null,r.a.createElement(he.c,{initialValues:c,onSubmit:function(e){a?(e._id=t._id,p()({method:"patch",url:"http://52.187.52.67/api/inventory",data:e,headers:{"auth-token":localStorage.getItem("auth-token")}}).then((function(e){e.data.errors?J.a.fire({icon:"error",title:"Error!",text:e.data.error,confirmButtonText:"Ok"}):J.a.fire({icon:"success",title:"Success!",showConfirmButton:!1,timer:1500}).then((function(){n.push({pathname:"/catalog",selectedItem:e.data})}))})).catch((function(e){var t=e;J.a.fire({icon:"error",title:"Something went wrong..",text:t,confirmButtonText:"Ok"})}))):p()({method:"post",url:"http://52.187.52.67/api/inventory",data:e,headers:{"auth-token":localStorage.getItem("auth-token")}}).then((function(e){e.data.errors?J.a.fire({icon:"error",title:"Error!",text:e.data.error,confirmButtonText:"Ok"}):J.a.fire({icon:"success",title:"Success!",showConfirmButton:!1,timer:1500}).then((function(){n.push({pathname:"/catalog",selectedItem:e.data})}))})).catch((function(e){var t=e;J.a.fire({icon:"error",title:"Something went wrong..",text:t,confirmButtonText:"Ok"})}))}},(function(e){return r.a.createElement(he.b,null,r.a.createElement(he.a,{title:"Part number",name:"partNumber",handleChange:e,component:Se}),r.a.createElement(he.a,{title:"Description",name:"description",type:"text",component:xe}),r.a.createElement(he.a,{title:"Brand",name:"brand",type:"text",component:xe}),r.a.createElement(he.a,{title:"Category",name:"category",type:"text",component:xe}),r.a.createElement(je,null))}))))))},Ie=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Settings Page"),r.a.createElement(he.c,{initialValues:{test:["part1","part2","part3","part4","part5","part6","part7","part8","part9"]},onSubmit:function(e){console.log(e)}},(function(e){return r.a.createElement(he.b,null,r.a.createElement(he.a,{title:"Test",name:"test",handleChange:e,component:Se}),r.a.createElement(je,null))})))},Be=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"ADMIN ONLY"),r.a.createElement("h1",null,"MANAGE USERS Page"))},Te=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"ADMIN ONLY"),r.a.createElement("h1",null,"SalesPlatform Page"))},Pe=Object(v.a)({root:{minWidth:"300px",width:"60%",margin:"auto",marginTop:"10%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Ae=function(){var e=Object(E.g)(),t=Object(n.useContext)(g).setUserData,a=Pe(),l=function(){var a=Object(m.a)(i.a.mark((function a(n){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p()({method:"post",url:"http://52.187.52.67/api/auth/login",data:n}).then((function(a){a.data.error?J.a.fire({icon:"error",title:"Error!",text:a.data.error,confirmButtonText:"Ok"}):J.a.fire({icon:"success",title:"Success!",showConfirmButton:!1,timer:1500}).then((function(){t({token:a.data.token,accountType:a.data.user.accountType,username:a.data.user.username,fullName:a.data.user.fullName}),localStorage.setItem("auth-token",a.data.token),localStorage.setItem("accountType",a.data.user.accountType),e.push("/catalog")}))})).catch((function(e){var t=e;J.a.fire({icon:"error",title:"Something went wrong..",text:t,confirmButtonText:"Ok"})}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:a.root},r.a.createElement(A.a,{variant:"outlined"},r.a.createElement(U.a,null,r.a.createElement(x.a,{variant:"h5",component:"h2",gutterBottom:!0},"My catalog"),r.a.createElement(x.a,{variant:"body2",component:"p"},"Login"),r.a.createElement(he.c,{initialValues:{username:"",password:""},onSubmit:l},(function(e){return r.a.createElement(he.b,null,r.a.createElement(he.a,{title:"Username",name:"username",type:"text",component:xe}),r.a.createElement(he.a,{title:"Password",name:"password",type:"password",component:xe}),r.a.createElement(je,{width:100}))})))))},De=function(){return r.a.createElement(E.d,null,r.a.createElement(b,{path:"/",exact:!0,component:B}),r.a.createElement(b,{path:"/login",component:Ae,isLoginPage:!0}),r.a.createElement(b,{path:"/catalog",exact:!0,component:ge,isPrivate:!0}),r.a.createElement(b,{path:"/catalog/form",component:Ce,isPrivate:!0,isAdminOnly:!0}),r.a.createElement(b,{path:"/settings",component:Ie,isPrivate:!0}),r.a.createElement(b,{path:"/salesplatform",component:Te,isPrivate:!0,isAdminOnly:!0}),r.a.createElement(b,{path:"/manageusers",component:Be,isPrivate:!0,isAdminOnly:!0}),r.a.createElement(b,{path:"/",component:B}))},Le=a(78),Re=a(83),Fe=a(3),Me=a(208),Ue=a(209),Ve=a(210),We=a(212),_e=Object(v.a)((function(e){return{linkDecoration:{textDecoration:"inherit",color:"inherit"}}})),ze=function(e){var t=e.LinkTitle,a=e.LinkTitleSecondary,n=e.LinkUrl,l=e.LinkIcon,o=_e();return r.a.createElement(s.b,{to:n,className:o.linkDecoration},r.a.createElement(k.a,{button:!0},r.a.createElement(O.a,null,l),r.a.createElement(S.a,{primary:t,secondary:a})))},Ge=a(107),He=a.n(Ge),Ye=a(108),Je=a.n(Ye),Ke=a(103),$e=a.n(Ke),qe=a(104),Qe=a.n(qe),Xe=a(105),Ze=a.n(Xe),et=a(106),tt=a.n(et),at=Object(v.a)((function(e){return{root:{flexGrow:1,width:"100%"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textDecoration:"none",color:"inherit"},list:{width:250},leftMargin:{marginLeft:"18px"},fullNameStyle:{width:"100%",textAlign:"center"},logoutButton:{margin:"10px",textAlign:"center"},loginButton:{textDecoration:"inherit",color:"inherit"}}})),nt=function(){var e,t=at(),a=Object(E.g)(),l=Object(n.useContext)(g),o=l.userData,c=l.setUserData,i=Object(n.useState)({left:!1,right:!1}),m=Object(u.a)(i,2),d=m[0],p=m[1],h=function(){c({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),localStorage.setItem("accountType",""),a.push("/login")},f=function(e,t){return function(a){(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&p(Object(Re.a)(Object(Re.a)({},d),{},Object(Le.a)({},e,t)))}};return r.a.createElement("div",{className:t.root},r.a.createElement(Ue.a,{position:"static"},r.a.createElement(Ve.a,null,o.token?r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{onClick:f("left",!0),edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(He.a,null)),r.a.createElement(s.b,{to:"/",className:t.title},r.a.createElement(Ee.a,{className:t.title},r.a.createElement(x.a,{variant:"h6"},"My store catalog"))),r.a.createElement(z.a,{onClick:f("right",!0),color:"inherit"},r.a.createElement(Je.a,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/",className:t.title},r.a.createElement(Ee.a,{className:t.title},r.a.createElement(x.a,{variant:"h6"},"My store catalog"))),r.a.createElement(s.b,{to:"/login",className:t.loginButton},r.a.createElement(Ee.a,{className:t.loginButton},"Login"))))),r.a.createElement(We.a,{anchor:"left",open:d.left,onClose:f("left",!1),onOpen:f("left",!0)},(e="left",r.a.createElement("div",{className:Object(Fe.a)(t.list),role:"presentation",onClick:f(e,!1),onKeyDown:f(e,!1)},r.a.createElement(y.a,null,r.a.createElement(x.a,{variant:"h6",className:t.leftMargin},"Menu"),r.a.createElement(ze,{LinkTitle:"Catalog",LinkUrl:"/catalog",LinkIcon:r.a.createElement($e.a,null)}),"Admin"===o.accountType?r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{LinkTitle:"Sales platform",LinkUrl:"/salesplatform",LinkIcon:r.a.createElement(Qe.a,null)})):r.a.createElement("div",null)),r.a.createElement(Me.a,null)))),r.a.createElement(We.a,{anchor:"right",open:d.right,onClose:f("right",!1),onOpen:f("right",!0)},function(e){return r.a.createElement("div",{className:Object(Fe.a)(t.list),role:"presentation",onClick:f(e,!1),onKeyDown:f(e,!1)},r.a.createElement(y.a,null,r.a.createElement(x.a,{variant:"h6",color:"inherit",className:t.fullNameStyle},o.fullName),r.a.createElement(ze,{LinkTitle:"Settings",LinkUrl:"/settings",LinkIcon:r.a.createElement(Ze.a,null)}),"Admin"===o.accountType?r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{LinkTitle:"Manage users",LinkUrl:"/manageusers",LinkIcon:r.a.createElement(tt.a,null)})):r.a.createElement("div",null)),r.a.createElement(Me.a,null),r.a.createElement("div",{className:t.logoutButton},r.a.createElement(Ee.a,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:h},"Log out")))}("right")))},rt=(a(150),function(){var e=Object(n.useState)({token:void 0,user:void 0}),t=Object(u.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),localStorage.setItem("accountType",""),t=""),e.next=4,p.a.post("http://52.187.52.67/api/auth/tokenIsValid",null,{headers:{"auth-token":t}});case 4:if(!e.sent.data){e.next=10;break}return e.next=8,p.a.get("http://52.187.52.67/api/users",{headers:{"auth-token":t}});case 8:a=e.sent,l({token:t,accountType:a.data.accountType,username:a.data.username,fullName:a.data.fullName});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(s.a,null,r.a.createElement(g.Provider,{value:{userData:a,setUserData:l}},r.a.createElement(nt,null),r.a.createElement(De,null)))});o.a.render(r.a.createElement(rt,null),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.d1121c6c.chunk.js.map